{% extends "layouts/base.html" %}

{% block content %}

<div class="p-6 max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-4xl font-bold text-gray-900">專家列表</h2>

        <a href="{% url 'teachers:new' %}" class="btn btn-neutral text-gray-500 hover:text-gray-300 px-4 py-2">
            成為專家
        </a>
    </div>

    <div class="p-6 max-w-4xl mx-auto">
        <section>
            {% for item in teacher_data %}
            <a href="{% url 'teachers:show' item.teacher.id %}"
                class="block mb-4 p-4 bg-white shadow-md rounded-lg hover:bg-gray-100 transition-colors">
                <div class="flex flex-col">
                    <h3 class="text-xl font-semibold text-gray-900">{{ item.teacher.nickname }}</h3>
                    <p class="text-gray-700 mt-1">{{ item.teacher.expertise }}</p>
                    {% if item.teacher.introduce|length > 50 %}
                    <p class="text-gray-600 mt-1">{{ item.teacher.introduce|slice:":50" }}...</p>
                    {% else %}
                    <p class="text-gray-600 mt-1">{{ item.teacher.introduce }}</p>
                    {% endif %}

                    <section class="mt-2">
                        <h4 class="text-lg font-semibold text-gray-900">最近提問的問題</h4>
                        <ul class="mt-2">
                            {% for question in item.questions %}
                            <li>
                                <a href="{% url 'questions:show' question.id %}"
                                    class="text-blue-500 hover:text-blue-700">
                                    {{ question.title }}
                                </a>
                            </li>
                            {% empty %}
                            <li class="text-gray-500">無提問記錄</li>
                            {% endfor %}
                        </ul>
                    </section>

                    <section class="mt-2">
                        <h4 class="text-lg font-semibold text-gray-900">最近回答的問題</h4>
                        <ul class="mt-2">
                            {% for answer in item.answers %}
                            <li>
                                <a href="{% url 'questions:show' answer.id %}"
                                    class="text-blue-500 hover:text-blue-700">
                                    {{ answer.title }}
                                </a>
                            </li>
                            {% empty %}
                            <li class="text-gray-500">無回答記錄</li>
                            {% endfor %}
                        </ul>
                    </section>
                </div>
            </a>
            {% endfor %}
        </section>
    </div>
</div>

{% endblock %}