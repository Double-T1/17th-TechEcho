{% load chat home %}

<ul id="message_list" hx-swap-oob="beforeend">
    <li class="fade-up chat {{ message|check_author:user|yesno:'chat-end,chat-start' }}">
        <div class="chat-header">
            {{message.author}}
            <time class="text-xs opacity-50">{{message.created_at|standard_date}}</time>
        </div>
        <p class="chat-bubble text-white break-all {{ message|check_author:user|yesno:'chat-bubble-success,bg-blue-1' }}">
            {{ message.content|linebreaksbr }}
        </p>
        <div class="chat-footer opacity-50">Delivered</div>
    </li>

    <style>
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0px); }
        }
        .fade-up {
            animation: fadeUp 0.6s ease;
        }
    </style>
</ul>